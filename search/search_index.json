{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Mechvibes Lite","text":"<p>Mechvibes Lite is a Python software that acts as a lightweight interface for Mechvibes. It boasts full compatibility for themes made for the original version.</p>"},{"location":"#installation","title":"Installation","text":"<p>Note</p> <p>MacOS is not supported because current maintainers of the project do not have access to this system to maintain support for it. Contributions are welcome.</p>"},{"location":"#windows","title":"Windows","text":"<p>Please read the installation page for Windows.</p>"},{"location":"#linux","title":"Linux","text":"<p>Please read the installation page for Linux.</p>"},{"location":"#usage","title":"Usage","text":"<p>You can learn how to use this software here.</p>"},{"location":"#configuration","title":"Configuration","text":"<p>You need to setup a configuration file to use Mechvibes Lite. Instructions can be found here.</p>"},{"location":"configuration/","title":"Configuring Mechvibes Lite","text":"<p>Important</p> <p>Please ensure you have the software installed by following the instructions here.</p>"},{"location":"configuration/#example-configuration-file","title":"Example Configuration File","text":"<p><pre><code>[wskey]\nhost = localhost\nport = 6969\nevent_id = 17\n\n[theme]\ntheme_dir = ~/.config/mechvibes-lite/themes\nfolder_name = nk-cream\n</code></pre> This software uses <code>.ini</code> format for configuration.</p> <p>Tip</p> <p>A reference for INI files can be found here.</p> <p>Note</p> <p>The <code>~</code> symbol in the <code>theme_dir</code>'s value is a shortcut to writing <code>/home/username</code> on Linux and on Windows, <code>C:/Users/username</code>. <code>username</code> in this context is the name of the logged in user's account name.</p>"},{"location":"configuration/#storing-the-configuration-file","title":"Storing the Configuration File","text":"<p>On Linux, system-wide configuration can be stored at <code>/etc/mechvibes-lite/config.ini</code>. User-wide configuration can be stored at <code>~/.config/mechvibes-lite/config.ini</code>. <code>XDG_CONFIG_HOME</code> environment variable is also respected.</p> <p>On Windows, configuration file can be stored at <code>%APPDATA%/mechvibes-lite/config.ini</code>. <code>%APPDATA</code> is an environment variable that is typically expanded to <code>C:/Users/username/AppData/Roaming</code>. This might refer to something else in special cases, it's best to check it by doing <code>echo %APPDATA%</code> in Command Prompt or some other shell.</p>"},{"location":"configuration/#specifying-arbitrary-location-for-configuration-file","title":"Specifying Arbitrary Location for Configuration File","text":"<p><code>--with-config</code> flag can be used to load a configuration from non-standard location. You may put <code>-</code> to read standard input buffer. Example: <code>mvibes --with-config /tmp/my-config.ini</code>, or <code>cat /tmp/my-config.ini | mvibes --with-config -</code>.</p> <p><code>--no-config</code> flag can be used to not load a configuration file. Instead configuration may be entirely constructed with CLI flags, such as <code>--theme-dir</code>, <code>--theme-folder-name</code>, etc. It's best to do <code>mvibes --help</code> for more information.</p>"},{"location":"configuration/#overriding-configuration-options","title":"Overriding Configuration Options","text":"<p>There are various CLI flags to override the configuration file, such as <code>--theme-dir</code>, <code>--theme-folder-name</code>, etc. Please do <code>mvibes --help</code> for more information.</p>"},{"location":"configuration/#description-of-the-options","title":"Description of the Options","text":"Key Name Description <code>theme.theme_dir</code> A string that points to an existing directory where themes compatible with original Mechvibes are available. <code>theme.folder_name</code> The name of the theme folder that Mvibes is supposed to play. A folder with this name must be available in the directory specified via <code>theme.theme_dir</code> option. <code>wskey.host</code> The hostname of the Wskey server. <code>wskey.port</code> The port of the Wskey server. <code>wskey.event_id</code> Only applicable for Linux. The ID of the input event to listen to. If the string is an integer then it is converted to <code>event{id}</code> where <code>id</code> is the integer."},{"location":"configuration/#in-depth-description","title":"In-depth Description","text":"<p>To understand <code>wskey.*</code> options, it is recommended to refer to documentation available here.</p> <p>To understand <code>theme.*</code> options, it is recommended to refer to documentation available here.</p> <p>To undersand <code>wskey.event_id</code>, you should refer to documentation available here.</p>"},{"location":"themes/","title":"Themes","text":""},{"location":"themes/#where-to-get-themes","title":"Where to Get Themes","text":"<p>There is a registry for these themes that are hosted by the original Mechvibes. You may check it out by going here.</p> <p>You can pick a theme there, then click on its respective Learn more button. </p> <p>Then in the new page click Download button to download the theme.</p> <p>Note</p> <p>You will have to extract the contents to a folder then put that folder under <code>theme.theme_dir</code>, not the zip (or archive) file that you downloaded.</p>"},{"location":"themes/#where-to-put-them","title":"Where to Put Them","text":"<p>Once you have downloaded your themes, create a theme directory somewhere and point <code>theme.theme_dir</code> from the configuration file to that directory.</p> <p>Then point <code>theme.folder_name</code> to a theme under <code>theme.theme_dir</code> that you want to activate/use.</p> Sample Theme Folders Example IExample II <p><pre><code>themes/eg-oreo/\n\u251c\u2500\u2500 config.json\n\u2514\u2500\u2500 oreo.ogg\n\n1 directory, 2 files\n</code></pre> Here <code>themes/</code> (path) is <code>theme.theme_dir</code>, and <code>eg-oreo</code> (directory name) is <code>theme.folder_name</code></p> <p><pre><code>themes/nk-cream/\n\u251c\u2500\u2500 a.wav\n\u251c\u2500\u2500 backspace.wav\n\u251c\u2500\u2500 b.wav\n\u251c\u2500\u2500 caps lock.wav\n\u251c\u2500\u2500 config.json\n\u251c\u2500\u2500 c.wav\n\u251c\u2500\u2500 d.wav\n\u251c\u2500\u2500 enter.wav\n\u251c\u2500\u2500 e.wav\n\u251c\u2500\u2500 f.wav\n...\n\u251c\u2500\u2500 w.wav\n\u251c\u2500\u2500 x.wav\n\u251c\u2500\u2500 y.wav\n\u2514\u2500\u2500 z.wav\n\n1 directory, 35 files\n</code></pre> Here <code>themes/</code> (path) is <code>theme.theme_dir</code>, and <code>nk-cream</code> (directory name) is <code>theme.folder_name</code></p>"},{"location":"usage/","title":"Usage","text":"<p>This page is a guide to using Mechvibes Lite from the command-line. </p> <p>Important</p> <p>Please ensure you have the software installed by following the instructions here.</p>"},{"location":"usage/#running-mechvibes-lite","title":"Running Mechvibes Lite","text":"<p><pre><code>mvibes daemon\n</code></pre> This will start Mechvibes Lite on your computer.</p> <p>Important</p> <p>Please ensure you have a proper configuration file beforehand by following the instructions here.</p> <p>Tip</p> <p>A Wskey server is automatically ran in the background for you unless it is told otherwise.</p>"},{"location":"usage/#wskey","title":"Wskey","text":"<p>Wskey is included in the standard installation of Mechvibes Lite. It is a background process that tells Mechvibes Lite which keys you are pressing. That lets the main program know when to play which sound file. More advanced introduction below.</p> <p>Wskey under the hood is just a WebSocket server. You can start this daemon yourself by doing the following:</p> <pre><code>mvibes wskey daemon\n</code></pre> <p>Wskey daemon on Linux depends on the <code>evdev</code> package from Pypi repositories. For Windows it depends on <code>keyboard</code> package from the same repository.</p> <p>Warning</p> <p>As of now, the connection is fully un-encrypted. The only information the daemon sends are the scan codes. Unless a malicious program is specifically targeting Mechvibes Lite users, it should be plentifully obscure what the server is actually sending. However encrypted connection may be introduced in a future release.</p> <p>The host address and the port is first fetched from <code>wskey</code> key in the configuration file. More information is available here. However the subcommand has a number of flags to override the configuration file:</p> <pre><code>mvibes wskey daemon --host localhost --port 8765 --event-id 18\n</code></pre> <p>Additionally the main <code>daemon</code> subcommand also has <code>--wskey-port</code> and <code>--wskey-host</code> flags to specify which server to connect to.</p>"},{"location":"usage/#disable-automatically-starting-a-wskey-server","title":"Disable Automatically Starting a Wskey Server","text":"<p>By default when you do <code>mvibes daemon</code> it starts a Wskey server for you automatically. To override this behavior, you may use the <code>--no-wskey</code> flag:</p> <pre><code>mvibes --no-wskey daemon\n</code></pre>"},{"location":"installation/linux/","title":"Linux","text":""},{"location":"installation/linux/#installation","title":"Installation","text":"<p>Info</p> <p>Minimum Python version required is <code>3.10</code>. Please check by running <code>python3 --version</code>.</p> <p>Run the following command in a terminal:</p> <pre><code>user:~$ python3 -m pip install --local git+https://github.com/eeriemyxi/mechvibes-lite\n</code></pre> <p>Now you should be able to do <code>mvibes --version</code> from your terminal. If not then I am afraid you have a messy Python setup on your system. However if everything is fine then please follow the instructions from the next header.</p>"},{"location":"installation/linux/#getting-access-to-input-events","title":"Getting Access to Input Events","text":"<p>This program uses scan codes to detect keyboard input. Scan codes are not readable to normal users out-of-the-box on Linux. Below are various methods to get access to scan codes on Linux.</p> <p>You may check whether you have access to the input events via the instructions here.</p> <p>Once you confirm you have access to the input events, read here.</p>"},{"location":"installation/linux/#method-i","title":"Method I","text":"<p>This is the easier and less secure method of making scan codes readable for processes running from your user account. First you need to add your user to the <code>input</code> group:</p> <p><pre><code>user:~$ sudo usermod -aG input username\n</code></pre> Replace <code>username</code> with your account's username.</p> <p>Then log out and log back in. Now you should have read access to events in <code>/dev/input/</code> directory. To test do these instructions.</p>"},{"location":"installation/linux/#method-ii","title":"Method II","text":"<p>The second method is to use a Docker container to run the Wskey daemon then forward the port to the host machine. We will mount the <code>/dev/input</code> directory as read-only in a privileged container for this method.</p> <p>The project comes with a <code>compose.yml</code> and <code>Dockerfile</code> to remedy this method.</p> <p>As a prerequisite, you will need to install Docker on your system. You can do so by going to https://www.docker.com/ and downloading the installer for your platform. It is possible to follow this guide on all platforms supported by Docker but we will be assuming that you use Linux.</p> <p>Note</p> <p>If you are an experienced Linux user, you may also try installing it from your package manager instead. </p> <p>Once installed, clone the source code of Mechvibes Lite using Git then CD to it:</p> <pre><code>user:~$ git clone https://github.com/eeriemyxi/mechvibes-lite\nuser:~$ cd mechvibes-lite\n</code></pre> <p>Note</p> <p>The commnad below assumes that you store your configuration at the standard configuration location, if not then you will have to modify the <code>volumes</code> section in the <code>compose.yml</code> section and the <code>Dockerfile</code> file too.</p> <p>Then we run the Docker service like so: <pre><code>user:~$ docker compose -p wskey-server up -d\n</code></pre></p> <p>By default the server runs on the port <code>4958</code>. You can change it by exporting <code>WSKEY_PORT</code> environment variable. Docker seem to support <code>.env</code> files too, but I haven't tested.</p> <p>Tip</p> <p>You can omit the <code>-d</code> (stands for <code>--detach</code>) when starting the service to avoid detaching it.</p> <p>Tip</p> <p>To see if everything is working well for the Wskey server, you can then run: <pre><code>user:~$ docker compose -p wskey-server logs -f\n</code></pre> This command should from anywhere due to <code>-p wskey-server logs</code>.</p> <p>To connect to the Docker container, you can do something like this: <pre><code>user:~$ mvibes -LDEBUG --no-wskey --wskey-port 4958 daemon\n</code></pre></p> <p>That's all. Mechvibes Lite should now be able listen to your event id's key presses (on the usual Linux installation).</p>"},{"location":"installation/linux/#method-iii","title":"Method III","text":"<p>Warning</p> <p>This method is more involved, do not attempt it unless you understand every step mentioned.</p> <p>When you do <code>mvibes daemon</code> it automatically starts a <code>wskey</code> daemon unless told otherwise. <code>wskey</code> daemon is essentially just a websocket server that sends the input events to connected clients.</p> <p>You can start a <code>wskey</code> daemon by doing <code>mvibes wskey daemon</code>.</p> <p>The idea is to create another user, give it access to input events, then run the <code>wskey</code> daemon from this account. This way your normal account is untouched and is protected from the pitfalls of any program having access to the input events. Once the <code>wskey</code> daemon is running on the second account, you can simply tell <code>mvibes daemon</code> running on your usual account to use that websocket server to receive input events from.</p> <p>Create a new user: <pre><code>usual-user:~$ sudo useradd -d /home/second-user -m second-user\n</code></pre> <code>second-user</code> is the username of the second account. <code>/home/second-user</code> is the path to the new user's home directory.</p> <p>Info</p> <p>On Debian-based systems (Ubuntu, Linux Mint, etc.), there is <code>adduser</code> command which is more interactive and beginner friendly:</p> <pre><code>usual-user:~$ sudo adduser second-user\n</code></pre> <p>Now answer the prompts on your screen.</p> <p>Add the new user to <code>input</code> group:</p> <pre><code>usual-user:~$ sudo usermod -aG input second-user\n</code></pre> <p>Log out and log back in. Now make sure your new account can read input events by reading this. However instead of running <code>evtest</code> do:</p> <pre><code>usual-user:~$ sudo -u second-user evtest\n</code></pre> <p>Create a system-wide configuration directory for Mechvibes Lite: <pre><code>usual-user:~$ sudo cp -r ~/.config/mechvibes-lite/ /etc/mechvibes-lite\n</code></pre></p> <p>The command above will copy your local configuration file directory to <code>/etc</code> folder. It is recommended that you put your <code>themes</code> folder within this directory to not have issues with file permissions.</p> <p>Install Mechvibes Lite on the new user account:</p> <pre><code>usual-user:~$ sudo apt install python3-venv\nusual-user:~$ sudo -iu second-user\nsecond-user:~$ python3 -m venv mvibes-venv\nsecond-user:~$ source mvibes-venv/bin/activate\nsecond-user:~$ pip install git+https://github.com/eeriemyxi/mechvibes-lite\nsecond-user:~$ deactivate &amp;&amp; exit\n</code></pre> <p>Now do this from the usual account to start the <code>wskey</code> server:</p> <pre><code>usual-user:~$ sudo -iu second-user mvibes-venv/bin/mvibes wskey daemon\n</code></pre>"},{"location":"installation/linux/#testing-access-for-input-event","title":"Testing Access for Input Event","text":"<p>Install <code>evtest</code> package:</p> <pre><code>user:~$ sudo apt install evtest\n</code></pre> <p>Run <code>evtest</code> then select a device from the list: <pre><code>user:~$ evtest\nNo device specified, trying to scan all of /dev/input/event*\nNot running as root, no devices may be available.\nAvailable devices:\n/dev/input/event0:      Power Button\n/dev/input/event1:      Lid Switch\n/dev/input/event2:      Power Button\n/dev/input/event3:      AT Translated Set 2 keyboard\n/dev/input/event4:      Video Bus\n/dev/input/event5:      ETPS/2 Elantech Touchpad\n...\n</code></pre></p> <p>Pick a relevant event and then press keys on your keyboard. You will see outputs like this whenever you do:</p> <pre><code>Event: time 1734882562.361739, type 1 (EV_KEY), code 28 (KEY_ENTER), value 0\nEvent: time 1734882562.361739, -------------- SYN_REPORT ------------\nEvent: time 1734882563.472796, type 1 (EV_KEY), code 49 (KEY_N), value 1\nEvent: time 1734882563.472796, -------------- SYN_REPORT ------------\nEvent: time 1734882563.557881, type 1 (EV_KEY), code 49 (KEY_N), value 0\nEvent: time 1734882563.557881, -------------- SYN_REPORT ------------\nEvent: time 1734882563.726942, type 1 (EV_KEY), code 18 (KEY_E), value 1\nEvent: time 1734882563.726942, -------------- SYN_REPORT ------------\n</code></pre>"},{"location":"installation/linux/#what-to-do-next","title":"What To Do Next?","text":"<p>Now that you access to input events, you will have to add <code>wskey.event_id</code> option in your configuration file. More in-depth explanation is here.</p>"},{"location":"installation/windows/","title":"Windows","text":""},{"location":"installation/windows/#windows","title":"Windows","text":"<p>Info</p> <p>Minimum Python version required is <code>3.10</code>. Please check by running <code>python3 --version</code>.</p> <p>I would recommend installing Scoop on your system by clicking here. It is a package manager. Once you have it installed, you are to install Python through it, which you can do by following the instructions for the first result here.</p> <p>Once you have Python installed, do this: <pre><code>python -m pip install git+https://github.com/eeriemyxi/mechvibes-lite\n</code></pre></p> <p>Now you can follow the usage guide of Mechvibes Lite here.</p>"}]}